<!doctype refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [

<!-- Process this file with docbook-to-man to generate an nroff manual
     page: `docbook-to-man manpage.sgml > manpage.1'.  You may view
     the manual page with: `docbook-to-man manpage.sgml | nroff -man |
     less'.  A typical entry in a Makefile or Makefile.am is:

manpage.1: manpage.sgml
	docbook-to-man $< > $@


	The docbook-to-man binary is found in the docbook-to-man package.
	Please remember that if you create the nroff version in one of the
	debian/rules file targets (such as build), you will need to include
	docbook-to-man in your Build-Depends control field.

  -->

  <!-- Fill in your name for FIRSTNAME and SURNAME. -->
  <!ENTITY dhfirstname "<firstname>Bram</firstname>">
  <!ENTITY dhsurname   "<surname>Neijt</surname>">
  <!-- Please adjust the date whenever revising the manpage. -->
  <!ENTITY dhdate      "<date>November 23, 2009</date>">
  <!-- SECTION should be 1-8, maybe w/ subsection other parameters are
       allowed: see man(7), man(1). -->
  <!ENTITY dhsection   "<manvolnum>1</manvolnum>">
  <!ENTITY dhemail     "<email>bneijt@gmail.com</email>">
  <!ENTITY dhusername  "A. Bram Neijt">
  <!ENTITY dhucpackage "<refentrytitle>AUTOTRASH</refentrytitle>">
  <!ENTITY dhpackage   "autotrash">

  <!ENTITY debian      "<productname>Debian</productname>">
  <!ENTITY gnu         "<acronym>GNU</acronym>">
  <!ENTITY gpl         "&gnu; <acronym>GPL</acronym>">
]>

<refentry>
  <refentryinfo>
    <address>
      &dhemail;
    </address>
    <author>
      &dhfirstname;
      &dhsurname;
    </author>
    <copyright>
      <year>2009</year>
      <holder>&dhusername;</holder>
    </copyright>
    &dhdate;
  </refentryinfo>
  <refmeta>
    &dhucpackage;

    &dhsection;
  </refmeta>
  <refnamediv>
    <refname>&dhpackage;</refname>

    <refpurpose>program to automatically purge old files from the FreeDesktop.org trash</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <cmdsynopsis>
      <command>&dhpackage;</command>

      <arg><option>-d <replaceable>n_days_old</replaceable></option></arg>
    </cmdsynopsis>
  </refsynopsisdiv>
  <refsect1>
    <title>DESCRIPTION</title>

    <para><command>&dhpackage;</command> is a program that reads the FreeDesktop.org Trash specification, trash information to determine which files are older then a given number of days (defaults to 30). If not run with the <option>--dry-run</option>, it will purge files which have been moved to the trash more then the given number of days ago.</para>
    <para>Running this command without any argument may remove files from your computer.</para>

  </refsect1>
  <refsect1>
    <title>OPTIONS</title>

    <para>This program follows the usual &gnu; command line syntax,
      with long options starting with two dashes (`-').</para>
    <variablelist>
      <varlistentry>
        <term><option>-h</option>, <option>--help</option>
        </term>
        <listitem>
          <para>Show summary of options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-d <replaceable>DAYS</replaceable></option>, <option>--days <replaceable>DAYS</replaceable></option>
        </term>
        <listitem>
          <para>Delete files older then DAYS number of days. Default: 30</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-T <replaceable>PATH</replaceable></option>, <option>--trash-path <replaceable>PATH</replaceable></option>
        </term>
        <listitem>
          <para>Use the given path as the location of the Trash directory, instead of the default: ~/.local/share/Trash .</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--max-free <replaceable>N</replaceable></option>
        </term>
        <listitem>
          <para>Only delete files if there is less then <replaceable>N</replaceable> megabytes of free space left at the trash location. As an example, if you set this to 1024, then autotrash will only start to work if there is less then 1GB of free space in the trash. Till that time, autotrash will just exit normaly without scanning the Trash directory. If unsure, try running autotrash with <option>--dry-run</option> and <option>--verbose</option> to see the effect.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--delete <replaceable>N</replaceable></option>
        </term>
        <listitem>
          <para>Delete at least <replaceable>N</replaceable> megabytes, deleting oldest trash addition first. It uses trash entries, NOT individual files. This means that if your oldest trashed item is a 1GB directory, and you request at least 10MB to be removed (N=10), &dhpackage; will remove 1GB. If unsure, try running autotrash with <option>--dry-run</option> and <option>--stat</option> to see the effect.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--min-free <replaceable>N</replaceable></option>
        </term>
        <listitem>
          <para>Make sure there is a minimum of <replaceable>N</replaceable> megabytes of free space. If there is less free space, set <option>--delete</option> to the difference between <replaceable>N</replaceable> and the amount of free space. If unsure, try running autotrash with <option>--dry-run</option> and <option>--verbose</option> to see the effect.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-v</option>, <option>--verbose</option>
        </term>
        <listitem>
          <para>Output information on what is happening and why.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-q</option>, <option>--quiet</option>
        </term>
        <listitem>
          <para>Only output warnings.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--check</option>
        </term>
        <listitem>
          <para>Report .trashinfo files that point to a non-existing file. This will only happen with a broken Trash can and autotrash will not touch these files. It is left up to the user to actually do something with this information. As soon as the files become old enough, they will be removed automatically.</para>
        </listitem>
      </varlistentry> 
      <varlistentry>
        <term><option>--dry-run</option>
        </term>
        <listitem>
          <para>Only list what would be done, but actually do nothing.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--stat</option>
        </term>
        <listitem>
          <para>Show the number, and total size of files involved.</para>
        </listitem>
      </varlistentry>      
      <varlistentry>
        <term><option>-V</option>, <option>--version</option>
        </term>
        <listitem>
          <para>Show version of program.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
<!--
  <refsect1>
    <title>SEE ALSO</title>

    <para>bar (1), baz (1).</para>

    <para>The programs are documented fully by <citetitle>The Rise and
      Fall of a Fooish Bar</citetitle> available via the
      <application>Info</application> system.</para>
  </refsect1>
-->
  <refsect1>
    <title>AUTHOR</title>

    <para>This manual page was written by &dhusername; &dhemail; for
      the &debian; system (and may be used by others).  Permission is
      granted to copy, distribute and/or modify this document under
      the terms of the &gnu; General Public License, Version 3 any
      later version published by the Free Software Foundation.
    </para>
    <para>
      On Debian systems, the complete text of the GNU General Public
      License can be found in /usr/share/common-licenses/GPL.
    </para>

  </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
